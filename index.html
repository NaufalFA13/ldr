<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Diary</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Georgia',serif;
  height:100vh;
  overflow:hidden;
  background:linear-gradient(180deg,#ffd6e7,#ffc1d9);
}

/* ===== WELCOME ===== */
#welcome{
  position:absolute;inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  transition:transform .8s ease;
}
#welcome.hidden{transform:translateX(-100%)}
#welcome h1{font-size:48px;margin-bottom:12px}
#welcome p{font-size:18px;opacity:.8}

/* ===== BOOK ===== */
#book-wrapper{
  position:absolute;inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  transform:translateX(100%);
  transition:transform .8s ease;
}
#book-wrapper.active{transform:translateX(0)}

.book{
  width:min(90vw,420px);
  height:min(85vh,640px);
  background:#fffdf8;
  border-radius:28px;
  box-shadow:0 20px 50px rgba(0,0,0,.15);
  position:relative;
  overflow:hidden;
}

/* garis buku */
.book::before{
  content:"";
  position:absolute;inset:0;
  background:repeating-linear-gradient(
    to bottom,
    transparent 0,
    transparent 26px,
    rgba(0,0,0,.06) 27px
  );
  pointer-events:none;
}

.page{
  position:absolute;inset:0;
  padding:56px 36px 80px;
  transition:transform .6s ease;
}

.page h2{margin-bottom:16px}
.page p{
  line-height:1.7;
  font-size:16px;
  white-space: pre-line;
}

.page-indicator{
  position:absolute;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:#8a2d4f;
  color:#fff;
  padding:6px 16px;
  border-radius:20px;
  font-size:14px;
}

/* ===== PANDA ===== */
.panda{
  position:absolute;
  right:20px;
  bottom:40px;
  width:90px;height:90px;
}
.panda .head{
  width:100%;height:100%;
  background:#fff;
  border-radius:50%;
  position:relative;
}
.panda .ear{
  width:26px;height:26px;
  background:#000;
  border-radius:50%;
  position:absolute;top:-8px
}
.panda .ear.left{left:8px}
.panda .ear.right{right:8px}
.panda .eye{
  width:14px;height:18px;
  background:#000;
  border-radius:50%;
  position:absolute;top:34px
}
.panda .eye.left{left:26px}
.panda .eye.right{right:26px}
.panda .mouth{
  width:18px;height:10px;
  border-bottom:3px solid #000;
  border-radius:0 0 20px 20px;
  position:absolute;bottom:22px;left:50%;transform:translateX(-50%)
}

/* ===== RESPONSIVE ===== */
@media(max-width:480px){
  .page{padding:44px 22px 72px}
  .page p{font-size:15px}
}
.photo-wrap{
  display:flex;
  justify-content:center;
  gap:12px;
  margin:18px 0;
}

.photo-wrap img{
  width:45%;
  max-width:140px;
  border-radius:14px;
  object-fit:cover;
  box-shadow:0 6px 18px rgba(0,0,0,.15);
}
/* ===== CONTENT FIX ===== */
#content{
  line-height:1.7;
  font-size:16px;
  white-space:pre-line;
  opacity:0;
  transition:opacity .6s ease;
}

#content.show{
  opacity:1;
}

/* ===== PHOTO ANIMATION ===== */
.photo-wrap{
  display:flex;
  justify-content:center;
  gap:12px;
  margin:22px 0;
  opacity:0;
  transform:translateY(10px);
  transition:all .6s ease;
}

.photo-wrap.show{
  opacity:1;
  transform:translateY(0);
}

.photo-wrap img{
  width:45%;
  max-width:140px;
  border-radius:14px;
  object-fit:cover;
  box-shadow:0 6px 18px rgba(0,0,0,.15);
}

/* ===== RESPONSIVE IMPROVEMENT ===== */
@media(max-width:768px){
  .book{
    width:92vw;
    height:88vh;
  }
}

@media(max-width:480px){
  .page{
    padding:44px 20px 70px;
  }

  #content{
    font-size:15px;
  }

  .photo-wrap img{
    max-width:120px;
  }
}
.panda{
  cursor:pointer;
  transition:transform .2s ease;
}

.panda:active{
  transform:scale(.95);
}

</style>
</head>
<body>

<div id="welcome">
  <h1>HI CIEL</h1>
  <p>Ini cuma isi hati aku aja + pandangan aku selama aku pulang di tasik, hope u enjoy this web, <br>Love U</p><br>
  <P>SWIPE KIRI</P>
</div>

<div id="book-wrapper">
  <div class="book" id="book">
    <div class="page" id="page">
      <h2 id="title"></h2>
      <p id="content"></p>
      <div class="page-indicator" id="indicator"></div>
    </div>
  </div>
</div>

<div class="panda">
  <div class="head">
    <div class="ear left"></div>
    <div class="ear right"></div>
    <div class="eye left"></div>
    <div class="eye right"></div>
    <div class="mouth" id="mouth"></div>
  </div>
</div>

<audio id="bgm" loop>
  <source src="lagu.mp3" type="audio/mpeg">
</audio>


<script>
const pages=[
  {t:"Hi Cielo",c:"Tasikmalaya pernah menjadi tempat ternyaman untuk kita berdua, meski hanya bersinggah selama dua minggu disana, langkahku pelan karena tak ingin hari cepat menutup pintu.\n\n\ndua minggu itu aku belajar, bahwa rindu bisa diam selama kamu ada di dekatku, ia tidak bertanya, tak menuntut, hanya menunggu waktu untuk bertemu lagi."},
  {
    t:"Cielo",
    c:`
    Kita duduk, tertawa,  
    menghabiskan hal-hal sederhanaâ€”jalanan, malam, dan cerita kecil.
    <div class="photo-wrap">
      <img src="foto1.jpg">
      <img src="foto2.jpg">
    </div>
    Semua itu sekarang menjadi kenangan  
    paling ramai di kepalaku.
    `
  },
  {t:"Our First Kiss",c:"sekarang jarak menaruhmu jauh namun ingatan menaruhmu dekat aku menulis ini agar rindu tahu ke mana harus singgah\n\n\nbahkan detik pertama ketika bibir bertemu aku tak ingat dunia hanya degup yang gugup dan senyum yang tak sempat kusembunyikan\n\n\nlalu perpisahan datang lagitanpa izin, tanpa basa-basi kota itu melepas aku pulang dan rindu kembali mendapat tugasnya"},
  {t:"Ldr?",c:"LDR mungkin memisahkan kota,tapi tidak memisahkan niat.Aku akan bertahan,sampai jarak hanya jadi cerita.\n\n\nAku pulang membawa jarak,tapi meninggalkan separuh hatiku di sana.Jika angin Tasikmalaya lewat malam ini,titipkan padanya: aku masih merindu."},
  {t:"Pesan Ku",c:"Aku masih di sini, masih mencoba memberikan mu yang terbaik, semoga dengan adanya jarak kita masih tetap bisa bersama,\n\n\nSemoga di hari ulang tahunku nanti aku mendapatkan hal-hal yang bahagia untuk kita bersama\n\n\nDan maaff jika tidak ada hari valentine atau coklat aku ingin memberikan hal-hal manis itu saat kita berdekatan."},
  {t:"Pesan Ku",c:"Terimakasih karna sudah mau terbuka dalam komunikasi kita.\n\n\n Mungkin ini kekanak-kanakan tapi aku selalu ingin kita bisa terus terbuka dan saling mencintai seperti ini\n\n\nEntah kamu sayang aku sebagai Amor atau Naufal yang pasti aku berharap tak ada orang lain lagi.\n\n\n Your My Purple Person"},
  {t:"Penutup",c:"Terima kasih sudah bertahan sejauh ini bersamaku, aku harap kamu bahagia dengan diri ini, dengan segala yang kita punya, dan rintangan yang telah kita lewati,\n\n\nMaaf jika aku masi membuatmu kecewa, tapi aku berusaha untuk jadi yang terbaik dan membuatmu bangga\n\n\nSemogga experience yang kita punya bertahan selamanya di nadi dan darah kita sampai kita tua\n\n\nLove u Amor"}
];

let index=0;
let started=false;
let startX=0;

const title=document.getElementById('title');
const content=document.getElementById('content');
const indicator=document.getElementById('indicator');
const bgm=document.getElementById('bgm');

function render(){
  content.classList.remove('show');
  content.innerHTML = pages[index].c;
  title.textContent = pages[index].t;
  indicator.textContent = `${index+1} / ${pages.length}`;

  setTimeout(()=>{
    content.classList.add('show');
    const photo=document.querySelector('.photo-wrap');
    if(photo){
      setTimeout(()=>photo.classList.add('show'),200);
    }
  },100);
}

render();

/* ===== NAVIGATION ===== */
function next(){
  if(!started) return;
  if(index < pages.length-1){
    index++;
    render();
  }
}

function prev(){
  if(!started) return;
  if(index > 0){
    index--;
    render();
  }
}

/* ===== TOUCH ===== */
document.addEventListener('touchstart',e=>{
  startX=e.touches[0].clientX;
});

document.addEventListener('touchend',e=>{
  const dx=e.changedTouches[0].clientX-startX;

  // Swipe pertama hanya untuk start
  if(!started && dx < -60){
    start();
    return;
  }

  if(started){
    if(dx < -60) next();
    if(dx > 60) prev();
  }
});

/* ===== KEYBOARD ===== */
document.addEventListener('keydown',e=>{
  if(!started && e.key==='ArrowRight'){
    start();
    return;
  }

  if(started){
    if(e.key==='ArrowRight')next();
    if(e.key==='ArrowLeft')prev();
  }
});

function start(){
  started=true;
  index=0; // pastikan tetap di halaman 1
  document.getElementById('welcome').classList.add('hidden');
  document.getElementById('book-wrapper').classList.add('active');
  render();
}

// panda expression
setInterval(()=>{
  const r=Math.random();
  mouth.style.borderBottomWidth=r>.5?'3px':'1px';
},5000);
  
const panda = document.querySelector('.panda');
let isPlaying = false;

panda.addEventListener('click', () => {
  if (!isPlaying) {
    bgm.play();
    isPlaying = true;
    mouth.style.borderBottomWidth = '5px'; // senyum lebih besar
  } else {
    bgm.pause();
    isPlaying = false;
    mouth.style.borderBottomWidth = '1px'; // senyum kecil
  }
});

</script>
</body>
</html>



